### 네 개의 영역
1. 아키텍처 설계에 있어서 4개의 계층이 존재
- 표현, 응용, 도메인, 인프라 스트럭처
- 표현 영역은 HTTP 요청을 응용 영역이 필요로 하는 형식으로 변환해서 응용 영역에 전달하고 응용 영역의 응답을 HTTP 응답으로 변환하여 전송한다.
- 응용 영역은 시스템이 사용자에게 제공해야할 기능을 구현하는데 '주문등록', '주문취소', '상품 상세 조회'와 같은 기능 구현을 예로 들 수 있다.
- 응용 역역은 로직을 직접 수행하기보다는 도메인 모델에 로직 수행을 위임한다.
- 도메인 영역은 도메인 모델을 구현한다, 도메인 핵심 로직을 구현한다.
- 인프라 스트럭처 영역은 구현 기술에 대한 것을 다룬다.

### 계층 구조 아키텍처
- 계층 구조는 특성상 상위 계층에서 하위 계층으로의 의존만 존재하고 하위 계층은 상위 계층에 의존하지 않는다.
- 계층 구조를 사용하는 것은 직관적으로 이해하기 쉽다.
- 하지만, 표현, 응용, 도메인 계층이 상세한 구현 기술을 다루는 인프라스트럭처 계층에 종속된다는 점이다.
- 인프라스트럭처에 의존하면 '테스트 어려움'과 '기능 확장의 어려움'이라는 두 가지 문제가 발생한다. 이 해답은 DIP에 있다.

### DIP
- 의존 역전 원칙
- 저수준 모듈이 고수준 모듈을 의존하도록 바꾼다.
- 장점은 실제 구현 클래스가 없더라도 테스트할 수 있다.
- DIP는 항상 적용할 필요가 없다.
  - 구현 기술에 의존적인 코드를 도메인에 일부 포함하는게 효과적일 때도 있다.

### 도메인 영역의 주요 구성 요소
- 엔티티 = 고유 식별자를 가진 객체
- 밸류 = 고유 식별자가 없음, 개념적으로 하나의 값을 표현할 때 사용
- 에그리거트 = 엔티티 + 벨류
- 리포지터리 = 영속성 처리(DBMS에서 엔티티 객체를 로딩하거나 저장하는 기능)
- 도메인 서비스 = 특정 엔티티에 속하지 않은 도메인 로직을 제공

- **실제 도메인 모델의 엔티티와 db관계형 모델의 엔티티는 다르다.**
  - 도메인 모델의 엔티티 : 데이터와 함께 기능을 제공하는 객체

- 도메인 모델이 복잡해지면 개발자가 전체 구조가 아닌 한개의 엔티티와 밸류에 집중하는 상황이 발생
  - 이때, 애그리거트를 이용하면 도움이 된다.
    - 상위 수준에서 모델을 볼 수 있어야 전체 모델의 관계와 개별 모델을 이애하는 데 도움이 된다.
  - 개별 객체 간의 관계가 아닌 애그리거트 간의 관계로 도메인 모델을 이해하고 구현하게 되며, 이를 통해 큰 틀에서 도메인 모델을 관리할 수 있다.
  - **에그리거트 루트를 통해서 간접적으로 애그리거트 내의 다른 엔티티나 밸류 객체에 접근한다. (캡슐화할 수 있도록 돕는다.)**
- 에그리거트를 어떻게 구성했느냐에 따라서 구현이 복잡해지기도 하고, 트랜잭션 범위가 달라지기도 한다.
